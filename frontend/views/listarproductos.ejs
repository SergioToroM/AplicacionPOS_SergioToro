<!DOCTYPE html>
<html lang="en">

<head>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <%- include('head'); %>
        <title>Lista Productos</title>
        
        <style>
            .button {
                border: none;
                color: #ffffff;
                padding: 4px 18px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 13px;
                margin: 4px 2px;
                transition-duration: 0.4s;
                cursor: pointer;
            }

            .button1 {
                background-color: white;
                color: black;
                border: 2px solid #4CAF50;
            }

            .button1:hover {
                background-color: #4CAF50;
                color: white;
            }

            .button2 {
                background-color: white;
                color: black;
                border: 2px solid #df3b3b;
            }

            .button2:hover {
                background-color: #df3b3b;
                color: white;
            }

            h1,
            h2 {
                text-align: center;
                font-size: 60px;
                font-family: 'Rogthem';
            }

            #products {
                font-family: Arial, Helvetica, sans-serif;
                border-collapse: collapse;
                width: 100%;
            }

            #products td,
            #products th {
                border: 1px solid #ddd;
                padding: 5px;
            }

            #products tr:nth-child(even) {
                background-color: #f2f2f2;
            }

            #products tr:hover {
                background-color: #ddd;
            }

            #products th {
                text-align: center;
                background-color: #188a60;
                color: white;
            }

            #products td {
                text-align: center;
            }

            #logo-empresa {

                color: white;
                text-shadow:
                    0 0 5px white,
                    0 0 10px white,
                    0 0 15px white,
                    0 0 20px lime,
                    0 0 30px lime,
                    0 0 40px lime,
                    0 0 55px lime,
                    0 0 75px lime;

            }
        </style>
</head>

<body class="container">

    <header>
        <%- include('header'); %>

        <!-- Navbar -->
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand fs-3" href="#" id="logo-empresa">FreakStore</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse d-flex justify-content-between" id="collapsibleNavbar">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Clientes</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/api/clientes">Registrar clientes</a></li>
                                <li><a class="dropdown-item" href="/api/listarclientes">Listar clientes</a></li>
                                
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Vendedores</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/api/vendedores">Registrar vendedores</a></li>
                                <li><a class="dropdown-item" href="/api/listarvendedores">Listar vendedores</a></li>
                                
                            </ul>
                            </li>
                        <!-- <li class="nav-item">
                            <a class="nav-link" href="#">Clientes</a>
                        </li> -->
                        <li class="nav-item">
                            <a class="nav-link" href="#">- Empty -</a>
                        </li>
                        <ul>

                    </ul>
                </div>
            </div>
        </nav>

    </header>

    <main><br><br><br>
        <div class="form-group">
            <form>
                <h2>Lista productos</h2>
                <table id="products">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Referencia</th>
                            <th>Nombre</th>
                            <th>Descripción</th>
                            <th>Precio</th>
                            <th>Stock</th>
                            <th>Administrar</th>
                        </tr>
                    </thead>
                    <tbody>

                        <% listaproductos.forEach(function(listproducts) { %>
                            <tr>
                                <td>
                                    <%=listproducts.id %>
                                </td>
                                <td>
                                    <%=listproducts.referencia %>
                                </td>
                                <td>
                                    <%=listproducts.nombre %>
                                </td>
                                <td>
                                    <%=listproducts.descripcion %>
                                </td>
                                <td>
                                    <%=listproducts.precio %>
                                </td>
                                <td>
                                    <%=listproducts.stock %>
                                </td>
                                <td><button type="button" class="button button1" data-bs-toggle="modal" data-bs-target="#modificarProducto" onclick="camposProducto(`<%=listproducts.id %>`,`<%=listproducts.referencia %>`,`<%=listproducts.nombre %>`,`<%=listproducts.descripcion %>`,`<%=listproducts.precio %>`,`<%=listproducts.stock %>`)"><i class="fa fa-edit"></i> Modificar</button>
                                    <button type="button" class="button button2" data-toggle="modal" data-target="#eliminarProducto"><i class="fa fa-close"></i> Eliminar</button></td>


                            </tr>
                            <% }); %>
                    </tbody>

                </table>
            </form>

        </div>

        
        <!-- Button trigger modal MODIFICAR -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modificarProducto">
            
        </button>
  
        <!-- Modal -->
        <div class="modal fade" id="modificarProducto" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Modificar artículo</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                        <div class="modal-body">
                            <form id="updateproducto" method="post">
                                
                                <div class="mb-3">
                                    <label for="recipient-name" class="col-form-label">ID:</label>
                                    <input type="text" class="form-control" id="idproducto" readonly>
                                  </div>
                                  <div class="mb-3">
                                    <label for="message-text" class="col-form-label">Nombre:</label>
                                    <input type="text" class="form-control" id="idreferenciaprod">
                                  </div>
                                  <div class="mb-3">
                                      <label for="message-text" class="col-form-label">Correo:</label>
                                      <input type="text" class="form-control" id="idnombreproducto">
                                  </div>
                                  <div class="mb-3">
                                    <label for="message-text" class="col-form-label">Teléfono:</label>
                                    <input type="text" class="form-control" id="iddescripcionprod">
                                </div>
                                <div class="mb-3">
                                    <label for="message-text" class="col-form-label">Teléfono:</label>
                                    <input type="text" class="form-control" id="idpreecioprod">
                                </div>
                                <div class="mb-3">
                                    <label for="message-text" class="col-form-label">Teléfono:</label>
                                    <input type="text" class="form-control" id="idstockprod">
                                </div>
                        

                            </form>
                        </div>
                     <div class="modal-footer">
                        <button type="button" class="button button2" data-bs-dismiss="modal">Cerrar</button>
                        <button type="button" class="button button1">Guardar cambios</button>
                    </div>
                </div>
            </div>
        </div>



        <!-- Button trigger modal ELIMINAR -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eliminarProducto">
            
        </button>
  
        <!-- Modal -->
        <div class="modal fade" id="eliminarProducto" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Eliminar artículo</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="modalProducts">
                            

                                    
                                

                            </form>
                        </div>
                    <div class="modal-footer">
                        <button type="button" class="button button2" data-bs-dismiss="modal">Cerrar</button>
                        <button type="button" class="button button1">Guardar cambios</button>
                    </div>
                </div>
            </div>
        </div>
        


    </main>

    <footer>
        <%- include('footer'); %>
    </footer>

    <script>
        function camposProducto(a,b,c,d,e,f) {
            idproducto.value = a,
            idreferenciaprod.value = b,
            idnombreproducto.value = c,
            iddescripcionprod.value = d,
            idpreecioprod.value = e,
            idstockprod.value = f
        }
    </script>

</body>

</html>